define("components/common/Util",function(t,e,n){var a={isCordova:function(){return"undefined"!=typeof cordova},stringFormat:function(){if(0==arguments.length)return null;for(var t=arguments[0],e=1;e<arguments.length;e++)t=t.replace("{"+e+"}",arguments[e]);return t},log:function(){var t=Array.prototype.slice.call(arguments);EMA.fire("log.addLogs",JSON.stringify(t)),console.log.apply(console,t)},getPlatform:function(){var t=window.navigator.userAgent;return t.indexOf("Android")>=0||t.indexOf("android")>=0?"android":"ios"},getAuth:function(t,e){var n="va_"+t+":"+CryptoJS.SHA256(e).toString(),a=Base64.encode(n),r="Basic "+a;return r},Reg:{isContactNum:function(t){var e=/(^[0-9]{3,4}\-[0-9]{7,8}$)|(^[0-9]{7,8}$)|(^[0−9]3,4[0-9]{3,8}$)|(^0{0,1}13[0-9]{9}$)|(13\d{9}$)|(15\d{9}$)|(18\d{9}$)/;return e.test(t)},isMobile:function(t){var e=/^1[1-9]\d{9}$/;return e.test(t)},isCardID:function(t){var e,n,a=0,r={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};if(!/^\d{17}(\d|x)$/i.test(t)&&!/^\d{14}(\d|x)$/i.test(t))return"你输入的身份证长度或格式错误";if(t=t.replace(/x$/i,"a"),null==r[parseInt(t.substr(0,2))])return"你的身份证地区非法";if(18==t.length){if(e=t.substr(6,4)+"-"+Number(t.substr(10,2))+"-"+Number(t.substr(12,2)),n=new Date(e.replace(/-/g,"/")),e!=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate())return"身份证上的出生日期非法";for(var o=17;o>=0;o--)a+=Math.pow(2,o)%11*parseInt(t.charAt(17-o),11);if(a%11!=1)return"你输入的身份证号非法"}else if(e="19"+t.substr(6,2)+"-"+Number(t.substr(8,2))+"-"+Number(t.substr(10,2)),n=new Date(e.replace(/-/g,"/")),e!=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate())return"身份证上的出生日期非法";return!0},isName:function(t){var e=/^[\u4e00-\u9fa5a-z][\u4e00-\u9fa5a-z0-9_]*$/i;return e.test(t)}},login:function(t){a.isCordova()?a.Wechat.auth(function(e){console.log(JSON.stringify(e)),Server.ajax({action:"wechat/login",data:{code:e.code},needLoading:!0,noAuth:!0,success:function(e){console.log(e),Server.setAuthorization(e.access_token),app.$options.jump("trade"),EMA.fire("loginSuccess"),$.isFunction(t)&&t()}})}):app.$options.jump("login")},City:{_data:null,getData:function(){var t=this;return t._data||$.ajax({url:"/static/data/area.json",async:!1,dataType:"json",success:function(e){t._data=e}}),t._data},_cacheIdToName:function(){var t=this;if(!t._cacheidtoname){var e=t.getData(),n=function(t){t.name;if(names=names+decollator+t.name,t.code!=id){var e=t.city;if(e)for(var a in e)n(e[a])}};n(e.city)}},idToName:function(){var t="";return t},nameToId:function(){}},Wechat:{isInstalled:function(){Wechat.isInstalled(function(t){alert("微信安裝"+(t?"Yes":"No"))},function(t){alert("微信isInstalled: "+t)})},auth:function(t){var e="snsapi_userinfo";Wechat.auth(e,function(e){t(e)},function(t){alert("Failed: "+t)})},share:function(t){t=t||{},t.scene=Wechat.Scene.TIMELINE,Wechat.share(t,function(){alert("Success")},function(t){alert("Failed: "+t)})}}};n.exports=a});